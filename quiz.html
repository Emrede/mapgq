<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Region Quiz</title>
    <style>div.absolute {
        position: absolute;
        top: 280px;
        right: 50px;
        width: 400px;
        /*height: 100px;*/
        /*border: 3px solid #73AD21;*/

    }

    table, th, td {
        border: 1px solid black;
    }
    </style>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js">

    </script>

    <script>
        var duration = 20; //In second unit
        var seconds, questionCount = 1, pointsUpdated = false;
        var uniqueRandoms = [];
        var numRandoms = 48;
        var help = "Before the time expires, you must select a region on the map where the asked city is. Each incorrect selection will reduce your score by 5 points. Each correct answer will give you additional points based on the time left when you click on the correct region. You can get up to 20 points for each correct answer. If you have difficulties answering the questions, you can go back and exercise with the cities on the map. Good luck!";
        var points = 0; //Total points
        question = getRandom(); //Question number between 1 and 3
        window.onload = function () { //Do the following on startup
            askQuestion();
            document.getElementById("questionCount").innerHTML = "Question " + questionCount;
        };
        function getRandom() {
//            var x = Math.floor((Math.random() * 3) + 1);
////            document.getElementById("demo").innerHTML = x;
//            return x;
            // refill the array if needed
            if (!uniqueRandoms.length) {
                for (var i = 1; i < numRandoms; i++) {
                    uniqueRandoms.push(i);
                }
            }
            var index = Math.floor(Math.random() * uniqueRandoms.length);
            var val = uniqueRandoms[index];

            // now remove that value from the array
            uniqueRandoms.splice(index, 1);

            return val;

        }

        //check if same question is being asked, return true otherwise false
        function checkQuestion() {

        }

        function askQuestion() {

            document.getElementById("nextButton").style.display = 'none'; //Hide the nextButton
            document.getElementById("status").innerHTML = null;
            switch (question) {
                case 1:
                    document.getElementById("question").innerHTML = "What region Brighton is located?";
                    //question=1;
                    break;
                case 2:
                    document.getElementById("question").innerHTML = "Where is Lancaster located?";
                    //question=2;
                    break;
                case 3:
                    document.getElementById("question").innerHTML = "Where is Nottingham located?";
                    //question=3;
                    break;
                case 4:
                    document.getElementById("question").innerHTML = "Where is Bristol located?";
                    break;
                case 5:
                    document.getElementById("question").innerHTML = "Where is Cambridge located?";
                    break;
                case 6:
                    document.getElementById("question").innerHTML = "Where is Norwich located?";
                    break;
                case 7:
                    document.getElementById("question").innerHTML = "Where is Luton located?";
                    break;
                case 8:
                    document.getElementById("question").innerHTML = "Where is Ipswich located?";
                    break;
                case 9:
                    document.getElementById("question").innerHTML = "Where is Leicester located?";
                    break;
                case 10:
                    document.getElementById("question").innerHTML = "Where is Lincoln located?";
                    break;
                case 11:
                    document.getElementById("question").innerHTML = "Where is Derby located?";
                    break;
                case 12:
                    document.getElementById("question").innerHTML = "Where is Repton located?";
                    break;
                case 13:
                    document.getElementById("question").innerHTML = "Where is Torksey located?";
                    break;
                case 14:
                    document.getElementById("question").innerHTML = "Where is York located?";
                    break;
                case 15:
                    document.getElementById("question").innerHTML = "Where is Bradford located?";
                    break;
                case 16:
                    document.getElementById("question").innerHTML = "Where is Leeds located?";
                    break;
                case 17:
                    document.getElementById("question").innerHTML = "Where is Oldham located?";
                    break;
                case 18:
                    document.getElementById("question").innerHTML = "Where is Hull located?";
                    break;
                case 19:
                    document.getElementById("question").innerHTML = "Where is Newcastle located?";
                    break;
                case 20:
                    document.getElementById("question").innerHTML = "Where is Gateshead located?";
                    break;
                case 21:
                    document.getElementById("question").innerHTML = "Where is Sunderland located?";
                    break;
                case 22:
                    document.getElementById("question").innerHTML = "Where is Durham located?";
                    break;
                case 23:
                    document.getElementById("question").innerHTML = "Where is Middlesbrough located?";
                    break;
                case 24:
                    document.getElementById("question").innerHTML = "Where is Blackpool located?";
                    break;
                case 25:
                    document.getElementById("question").innerHTML = "Where is Manchester located?";
                    break;
                case 26:
                    document.getElementById("question").innerHTML = "Where is Liverpool located?";
                    break;
                case 27:
                    document.getElementById("question").innerHTML = "Where is Preston located?";
                    break;
                case 28:
                    document.getElementById("question").innerHTML = "Where is Carlisle located?";
                    break;
                case 29:
                    document.getElementById("question").innerHTML = "Where is Stockport located?";
                    break;
                case 30:
                    document.getElementById("question").innerHTML = "Where is Trent located?";
                    break;
                case 31:
                    document.getElementById("question").innerHTML = "Where is Stafford located?";
                    break;
                case 32:
                    document.getElementById("question").innerHTML = "Where is Birmingham located?";
                    break;
                case 33:
                    document.getElementById("question").innerHTML = "Where is Stratford located?";
                    break;
                case 34:
                    document.getElementById("question").innerHTML = "Where is Worcester located?";
                    break;
                case 35:
                    document.getElementById("question").innerHTML = "Where is Hereford located?";
                    break;
                case 36:
                    document.getElementById("question").innerHTML = "Where is Bath located?";
                    break;
                case 37:
                    document.getElementById("question").innerHTML = "Where is Salisbury located?";
                    break;
                case 38:
                    document.getElementById("question").innerHTML = "Where is Exeter located?";
                    break;
                case 39:
                    document.getElementById("question").innerHTML = "Where is Plymouth located?";
                    break;
                case 40:
                    document.getElementById("question").innerHTML = "Where is Oxford located?";
                    break;
                case 41:
                    document.getElementById("question").innerHTML = "Where is Swindon located?";
                    break;
                case 42:
                    document.getElementById("question").innerHTML = "Where is Reading located?";
                    break;
                case 43:
                    document.getElementById("question").innerHTML = "Where is Southhampton located?";
                    break;
                case 44:
                    document.getElementById("question").innerHTML = "Where is Canterbury located?";
                    break;
                case 45:
                    document.getElementById("question").innerHTML = "Where is Bournemouth located?";
                    break;
                case 46:
                    document.getElementById("question").innerHTML = "Where is Portsmouth located?";
                    break;
                case 47:
                    document.getElementById("question").innerHTML = "Where is Folkestone located?";
                    break;
                case 48:
                    document.getElementById("question").innerHTML = "Where is Dover located?";
                    break;

            }
        }
        function correctAnswer() {
            document.getElementById("status").innerHTML = "Correct! You can proceed to the next question.";
            document.getElementById("status").style.color = "green";
            document.getElementById("nextButton").style.display = 'block';
            clearInterval(interval);
            updatePoints(true);
        }
        function wrongAnswer() {
            document.getElementById("status").innerHTML = "Wrong answer! Think again.";
            document.getElementById("status").style.color = "red";
            updatePoints(false);
        }
        function checkAnswer(regionId) {
            if (question == 1 && regionId == 2) {
                correctAnswer();
            } else if (question == 2 && regionId == 5) {
                correctAnswer();
            } else if (question == 3 && regionId == 8) {
                correctAnswer();
            } else if (question == 4 && regionId == 3) {
                correctAnswer();
            } else if (question == 5 && regionId == 9) {
                correctAnswer();
            } else if (question == 6 && regionId == 9) {
                correctAnswer();
            } else if (question == 7 && regionId == 9) {
                correctAnswer();
            } else if (question == 8 && regionId == 9) {
                correctAnswer();
            } else if (question == 9 && regionId == 8) {
                correctAnswer();
            } else if (question == 10 && regionId == 8) {
                correctAnswer();
            } else if (question == 11 && regionId == 8) {
                correctAnswer();
            } else if (question == 12 && regionId == 8) {
                correctAnswer();
            } else if (question == 13 && regionId == 8) {//East midlands
                correctAnswer();
            } else if (question == 14 && regionId == 7) {
                correctAnswer();
            } else if (question == 15 && regionId == 7) {
                correctAnswer();
            } else if (question == 16 && regionId == 7) {
                correctAnswer();
            } else if (question == 17 && regionId == 7) {
                correctAnswer();
            } else if (question == 18 && regionId == 7) {//Yorkshire
                correctAnswer();
            } else if (question == 19 && regionId == 6) {
                correctAnswer();
            } else if (question == 20 && regionId == 6) {
                correctAnswer();
            } else if (question == 21 && regionId == 6) {
                correctAnswer();
            } else if (question == 22 && regionId == 6) {
                correctAnswer();
            } else if (question == 23 && regionId == 6) {//North East
                correctAnswer();
            } else if (question == 24 && regionId == 5) {
                correctAnswer();
            } else if (question == 25 && regionId == 5) {
                correctAnswer();
            } else if (question == 26 && regionId == 5) {
                correctAnswer();
            } else if (question == 27 && regionId == 5) {
                correctAnswer();
            } else if (question == 28 && regionId == 5) {
                correctAnswer();
            } else if (question == 29 && regionId == 5) {//North West
                correctAnswer();
            } else if (question == 30 && regionId == 4) {
                correctAnswer();
            } else if (question == 31 && regionId == 4) {
                correctAnswer();
            } else if (question == 32 && regionId == 4) {
                correctAnswer();
            } else if (question == 33 && regionId == 4) {
                correctAnswer();
            } else if (question == 34 && regionId == 4) {
                correctAnswer();
            } else if (question == 35 && regionId == 4) {//West Midlands
                correctAnswer();
            } else if (question == 36 && regionId == 3) {
                correctAnswer();
            } else if (question == 37 && regionId == 3) {
                correctAnswer();
            } else if (question == 38 && regionId == 3) {
                correctAnswer();
            } else if (question == 39 && regionId == 3) {//South West
                correctAnswer();
            } else if (question == 40 && regionId == 2) {
                correctAnswer();
            } else if (question == 41 && regionId == 2) {
                correctAnswer();
            } else if (question == 42 && regionId == 2) {
                correctAnswer();
            } else if (question == 43 && regionId == 2) {
                correctAnswer();
            } else if (question == 44 && regionId == 2) {
                correctAnswer();
            } else if (question == 45 && regionId == 2) {
                correctAnswer();
            } else if (question == 46 && regionId == 2) {
                correctAnswer();
            } else if (question == 47 && regionId == 2) {
                correctAnswer();
            } else if (question == 48 && regionId == 2) {//South East
                correctAnswer();
            }

            else {
                wrongAnswer();
            }
        }

        function nextQuestion() {
            questionCount++;
            if (questionCount < 11) {
                document.getElementById("questionCount").innerHTML = "Question " + questionCount;
                pointsUpdated = false;
                window.display = $('#time');
                var startDate = startTimer(duration, window.display);
                question = getRandom();
                askQuestion();
            }
            else {
                document.getElementById("questionCount").innerHTML = "Congratulations you have completed the test!";
                document.getElementById("questionCount").style.color = 'green';
                document.getElementById("status").style.visibility = "hidden";
                document.getElementById("nextButton").style.visibility = 'hidden';
                document.getElementById("question").style.visibility = 'hidden';
                document.getElementById("Region").style.visibility = 'hidden';
            }

        }

        function showRegion(regionId) {
            switch (regionId) {
                case 1:
                    region = 'Greater London';
                    break;
                case 2:
                    region = 'South East England';
                    break;
                case 3:
                    region = 'South West England';
                    break;
                case 4:
                    region = 'West Midlands';
                    break;
                case 5:
                    region = 'North West England';
                    break;
                case 6:
                    region = 'North East England';
                    break;
                case 7:
                    region = 'Yorkshire and the Humber';
                    break;
                case 8:
                    region = 'East Midlands';
                    break;
                case 9:
                    region = 'East of England';
                    break;
            }
            document.getElementById("Region").innerHTML = region;
        }
        function startTimer(duration, display) {
            var timer = duration,
                minutes;

            interval = setInterval(function () {
                seconds = parseInt(timer % 60, 10);
                seconds = seconds < 10 ? "0" + seconds : seconds;
                display.text(seconds);

                if (--timer < 0) {
                    timer = 0;
                }
            }, 1000);
            return new Date();
        }
        jQuery(function ($) {
            //var duration = 20;
            window.display = $('#time');
            var startDate = startTimer(duration, window.display);
            $('map').click(function () {

                var now = new Date();
                //var seconds = now.getTime() - startDate.getTime()) / 1000;
                seconds = Math.round(seconds);
                var result = duration - seconds;
                if (result < 1) {
                    $('#elapsed').html("0");
                    $('#runtime').append('<p>' + 0 + '</p>');
                } else {
                    $('#runtime').append('<p>' + result + '</p>');
                    $('#elapsed').html(result);
                }
            });
            $('button').click(function () {
            });
        });
        //clearInterval(interval)
        function updatePoints(isAnswerCorrect) {
            if (!pointsUpdated) {
                if (isAnswerCorrect && seconds > 0) {
                    points = (points + Number(seconds));
                    pointsUpdated = true;
                } else if (!isAnswerCorrect && seconds > 0) {
                    points -= 5;
                }
            }
            document.getElementById("points").innerHTML = "Score: " + points;
            return points
        }

        function onHover(regionId) {
            switch (regionId) {
                case 1:
                    $("#mapImg").attr('src', 'imgs/region1.png');
                    showRegion(1);
                    break;
                case 2:
                    $("#mapImg").attr('src', 'imgs/region2.png');
                    showRegion(2);
                    break;
                case 3:
                    $("#mapImg").attr('src', 'imgs/region3.png');
                    showRegion(3);
                    break;
                case 4:
                    $("#mapImg").attr('src', 'imgs/region4.png');
                    showRegion(4);
                    break;
                case 5:
                    $("#mapImg").attr('src', 'imgs/region5.png');
                    showRegion(5);
                    break;
                case 6:
                    $("#mapImg").attr('src', 'imgs/region6.png');
                    showRegion(6);
                    break;
                case 7:
                    $("#mapImg").attr('src', 'imgs/region7.png');
                    showRegion(7);
                    break;
                case 8:
                    $("#mapImg").attr('src', 'imgs/region8.png');
                    showRegion(8);
                    break;
                case 9:
                    $("#mapImg").attr('src', 'imgs/region9.png');
                    showRegion(9);
                    break;
            }

        }

        function offHover() {
            $("#mapImg").attr('src', 'imgs/regionsc.png');
        }

    </script>
</head>

<body background="imgs/quiz_b.png">
<!-- <div>Time Left: <span id="time"></span> sec</div> -->
<div>
    <div align="center" style="color: white">
        <h1>Find the Cities on the Regional Map!</h1>
    </div>
    <div style="width: 50%; float:left">
        <img id="mapImg" src="imgs/regionsc.png" usemap="#Regions"/> <!--585 x 800 map-->
    </div>

    <div class=absolute align="center" style="width: 50%; float:right">
        <table style="width:100%">
            <tr>
                <th>Time Left: <span id="time"></span> sec</th>
                <th><h4 id="points">Score: 0</h4></th>
            </tr>
            <tr>
                <th><h2 id="questionCount"></h2></th>
                <th><h3 id="question"></h3></th>
        </table>


        <!--<div id="elapsed"></div>-->

        <h2 id="Region" style="color: cornflowerblue;"></h2>
        <h1 id="status"></h1>


        <input style="font-size: 20px; margin: 2%" type="button" id="nextButton" value="Next Question"
               onclick="nextQuestion()"/>
        <input type="button" id="restart" style="font-size: 20px; margin: 2%" value="Restart the quiz"
               onclick="window.location.reload()"/>
        <form action="cities.html">
            <input type="submit" style="font-size: 20px; margin: 2%" value="Back to the cities map"/>
        </form>
    </div>
</div>

<map name="Regions">
    <area shape="rect" coords="398,552,451,590" onmouseover="onHover(1)" ; onmouseout="offHover();"
          onclick="checkAnswer(1)"
          target="_blank" alt="1"/>
    <area shape="rect" coords="314,496,412,671" onmouseover="onHover(2)" ; onmouseout="offHover();"
          onclick="checkAnswer(2)" target="_blank" alt="2"/>
    <area shape="rect" coords="30,550,317,745" onmouseover="onHover(3)" ; onmouseout="offHover();"
          onclick="checkAnswer(3)" target="_blank" alt="3"/>
    <area shape="circle" coords="267,445,65" onmouseover="onHover(4)" ; onmouseout="offHover();"
          onclick="checkAnswer(4)" target="_blank" alt="4"/>
    <area shape="rect" coords="184,132,272,380" onmouseover="onHover(5)" ; onmouseout="offHover();"
          onclick="checkAnswer(5)" target="_blank" alt="5"/>
    <area shape="rect" coords="246,31,330,189" onmouseover="onHover(6)" ; onmouseout="offHover();"
          onclick="checkAnswer(6)" target="_blank" alt="6"/>
    <area shape="circle" coords="350,261,75" onmouseover="onHover(7)" ; onmouseout="offHover();"
          onclick="checkAnswer(7)" target="_blank"
          alt="7"/>
    <area shape="rect" coords="316,326,459,444" onmouseover="onHover(8)" ; onmouseout="offHover();"
          onclick="checkAnswer(8)" target="_blank" alt="8"/>
    <area shape="circle" coords="465,487,90" onmouseover="onHover(9)" ; onmouseout="offHover();"
          onclick="checkAnswer(9)" target="_blank" alt="9"/>
</map>

</body>

<button style="font-size: 20px;" onclick="window.alert(help)">Quiz Rules</button>
</html>
